!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){!function(e,n){t.exports=n()}(window,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n={}),this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})},t.prototype.run=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t];console.assert(!!o,"No subscriber for event: "+t),o&&(this._events[t]=o.filter(function(r){var o=r.fn,a=r.options;return a.delay?e.delay(t,o,n,a):o.apply(e,n),!r.options.once}))},t.prototype.delay=function(t,e,n,r){var o=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),e.apply(o,n)},r.delay)},t}();e.App=r,e.default=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(7),a=n(5);e.Component=a.Component;var i=n(4),u=n(2);e.on=u.on,e.update=u.update,e.event=u.update,r.default.createElement=o.createElement,r.default.render=o.render,r.default.Fragment=o.Fragment,r.default.start=function(t,e,n,r,o){var i=Object.assign(o||{},{render:!0,global_event:!0}),u=new a.Component(e,n,r);return o&&o.rendered&&(u.rendered=o.rendered),u.mount(t,i),u};var s=r.default;"object"==typeof window&&(window.app&&window.app.start?s=window.app:(window.app=s,document.addEventListener("DOMContentLoaded",function(){return new i.default}))),e.default=s,r.default.on("debug",function(t){return 0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Reflect={meta:new WeakMap,defineMetadata:function(t,e,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[t]=e},getMetadataKeys:function(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata:function(t,e){return e=Object.getPrototypeOf(e),this.meta.get(e)?this.meta.get(e)[t]:null}},e.update=function(t,n){return void 0===n&&(n={}),function(r,o,a){return t=o+(t?","+t:""),e.Reflect.defineMetadata("apprun-update:"+t,{name:t,action:[a.value,n]},r),a}},e.on=function(t,n){return void 0===n&&(n={}),function(n,r){t=r+(t?","+t:""),e.Reflect.defineMetadata("apprun-update:"+t,{name:t,key:r},n)}}},function(t,e,n){"use strict";function r(t){var e=[],n=function(t){null!==t&&void 0!==t&&""!==t&&e.push("function"==typeof t||"object"==typeof t?t:""+t)};return t&&t.forEach(function(t){Array.isArray(t)?t.forEach(function(t){return n(t)}):n(t)}),e}function o(t,e){if(f=0,e&&t)if(Array.isArray(e))for(var n=0;n<e.length;n++)t.children[n]?a(t.children[1],e[n]):t.appendChild(u(e[n]));else{var r=e;t.firstChild?a(t.firstChild,r):t.appendChild(u(r))}}function a(t,e){if(console.assert(!!t),function(t,e){return t.nodeName===(""+(e.tag||"")).toUpperCase()}(t,e)){for(var n=Math.min(t.childNodes.length,e.children.length),r=0;r<n;r++){var o=e.children[r],c=t.childNodes[r];if("string"==typeof o)c.textContent!==o&&(3===c.nodeType?c.textContent=o:t.replaceChild(i(o),c));else{var l=o.props&&o.props.key;if(l)if(c.key===l)a(t.childNodes[r],o);else{var f=l&&d[l];f?(t.replaceChild(f,c),t.appendChild(c),a(t.childNodes[r],o)):(t.appendChild(u(e),c),a(t.childNodes[r],o))}else a(t.childNodes[r],o)}}for(var p=t.childNodes.length;p>n;)t.removeChild(t.lastChild),p--;if(e.children.length>n){var h=document.createDocumentFragment();for(r=n;r<e.children.length;r++)h.appendChild(u(e.children[r]));t.appendChild(h)}s(t,e.props)}else t.parentNode.replaceChild(u(e),t)}function i(t){if(0===t.indexOf("_html:")){var e=document.createElement("div");return e.insertAdjacentHTML("afterbegin",t.substring(6)),e}return document.createTextNode(t)}function u(t){if(console.assert(null!==t&&void 0!==t),"string"==typeof t)return i(t);if(!t.tag)return i(JSON.stringify(t));var e="svg"===t.tag?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);return s(e,t.props),t.children&&t.children.forEach(function(t){return e.appendChild(u(t))}),e}function s(t,e){console.assert(!!t);var n=t[l]||{};for(var r in e=function(t,e){var n={};return t&&Object.keys(t).forEach(function(t){return n[t]=""}),e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}(n,e),t[l]=e,e){var o=e[r];if(n[r]!==o)if("style"===r)for(var a in t.style.cssText&&(t.style.cssText=""),o)t.style[a]!==o[a]&&(t.style[a]=o[a]);else if(r.startsWith("data-")){var i=r.substring(5);t.dataset[i]!==o&&(t.dataset[i]=o)}else t[r]!==o&&(t[r]=o),"key"===r&&o&&(d[o]=t)}}Object.defineProperty(e,"__esModule",{value:!0});var c=n(6),l="_props";e.createElement=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=r(n);if("string"==typeof t)return{tag:t,props:e,children:a};if(void 0===t&&n)return a;if(Object.getPrototypeOf(t).__isAppRunComponent){var i=e&&e.id||"_"+t.name+"_"+ ++f;return c.default(t,i,e)}return t(e,a)};var f=0,d={};e.updateElement=o,e.render=o,e.Fragment=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return r(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);r.default.on("//",function(t){}),r.default.on("#",function(t){});var o=function(){function t(){var t=this;r.default.on("route",function(e){return t.route(e)}),window.onpopstate=function(e){return t.route(location.hash)},this.route(location.hash)}return t.prototype.route=function(t){if(t||(t="#"),t.indexOf("/")>0){var e=t.split("/"),n=e[0],o=e.slice(1);r.default.run.apply(r.default,[n].concat(o)),r.default.run.apply(r.default,["//",n].concat(o))}else r.default.run(t),r.default.run("//",t)},t}();e.default=o},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(2),i=function(){function t(t,e,n,a){var i=this;this.state=t,this.view=e,this.update=n,this.options=a,this._app=new o.App,this._history=[],this._history_idx=-1,this.start=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={render:!0}),i.mount(t,r({},e,{render:!0}))},this.render=function(){return i.view(i.state)}}return t.prototype.renderState=function(t){if(this.view){var e=this.view(t);o.default.run("debug",{component:this,state:t,vdom:e||"[vdom is null - no render]"});var n="string"==typeof this.element?document.getElementById(this.element):this.element;n&&(n._component=this),n&&o.default.render&&(o.default.render(n,e),this.rendered&&this.rendered(this.state))}},t.prototype.setState=function(t,e){var n=this;if(t instanceof Promise)t.then(function(t){n.setState(t,e)}).catch(function(t){throw console.error(t),t});else{if(null==t)return;this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=this._history.concat([t]),this._history_idx=this._history.length-1),"function"==typeof e.callback&&e.callback(this.state)}},t.prototype.mount=function(t,e){var n=this;return void 0===t&&(t=null),console.assert(!this.element,"Component already mounted."),this.options=e=Object.assign(this.options||{},e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history&&(this.on(e.history.prev||"history-prev",function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0}),this.on(e.history.next||"history-next",function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1})),this.add_actions(),void 0===this.state&&(this.state=this.model||{}),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},t.prototype.is_global_event=function(t){return t&&(t.startsWith("#")||t.startsWith("/"))},t.prototype.add_action=function(t,e,n){var r=this;void 0===n&&(n={}),e&&"function"==typeof e&&this.on(t,function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var u=e.apply(void 0,[r.state].concat(a));o.default.run("debug",{component:r,event:t,e:a,state:r.state,newState:u,options:n}),r.setState(u,n)},n)},t.prototype.add_actions=function(){var t=this,e=this.update||{};a.Reflect.getMetadataKeys(this).forEach(function(n){if(n.startsWith("apprun-update:")){var r=a.Reflect.getMetadata(n,t);e[r.name]=r.action||t[r.key]}});var n={};Object.keys(e).forEach(function(t){var r=e[t];("function"==typeof r||Array.isArray(r))&&t.split(",").forEach(function(t){return n[t.trim()]=r})}),Object.keys(n).forEach(function(e){var r=n[e];"function"==typeof r?t.add_action(e,r):Array.isArray(r)&&t.add_action(e,r[0],r[1])})},t.prototype.run=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.global_event||this.is_global_event(t)?o.default.run.apply(o.default,[t].concat(n)):(e=this._app).run.apply(e,[t].concat(n))},t.prototype.on=function(t,e,n){return this.global_event||this.is_global_event(t)?o.default.on(t,e,n):this._app.on(t,e,n)},t.__isAppRunComponent=!0,t}();e.Component=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o={};e.default=function(t,e,n){var a=o[e]?o[e]:o[e]=new t(n).mount(e);return r.default.createElement("div",{id:e},a.render&&a.render())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.createElement=r.createElement,e.Fragment=r.Fragment,e.render=function(t,e){console.assert(!!t),r.updateElement(t,e)}}])})},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(4),i=n(5);console.log("firebase",a);var u={apiKey:"AIzaSyCsaEXo297Mo1Js08CUQ9DzWSYqJDQBdRo",authDomain:"cheessons.firebaseapp.com",databaseURL:"https://cheessons.firebaseio.com",projectId:"cheessons",storageBucket:"cheessons.appspot.com",messagingSenderId:"105788159539"};a.initializeApp(u),e.db=a.firestore();var s={signInSuccessUrl:"#",signInOptions:[a.auth.GoogleAuthProvider.PROVIDER_ID,a.auth.EmailAuthProvider.PROVIDER_ID]};a.auth().onAuthStateChanged(function(t){t?(e.user=t,o.default.run("#auth"),o.default.run("route",document.location.hash)):(e.user=null,o.default.run("#auth"))});var c=new i.auth.AuthUI(a.auth()),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.update={"#signin":function(t,e){c.start("#"+e,s)},"#signout":function(t){a.auth().signOut(),document.location.replace(document.location.origin)}},e}return r(e,t),e}(o.Component);e.default=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(3),i=n(1),u=n(6),s=n(7),c=n(8),l=n(9);(new a.default).mount("main"),(new u.default).mount("main"),(new s.default).mount("main"),(new c.default).mount("main"),(new l.default).mount("main"),(new i.default).mount(),o.default.on("//",function(t){console.log("[route]: ",t);for(var e=document.querySelectorAll(".navbar-nav li"),n=0;n<e.length;++n)e[n].classList.remove("active");var r=document.querySelector("[href='"+t+"']");r&&r.parentElement.classList.add("active")}),(new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e.view=function(t){return o.default.createElement("div",{className:"container"},o.default.createElement("nav",{className:"navbar navbar-default navbar-static-top"},o.default.createElement("div",{className:"container"},o.default.createElement("div",{className:"navbar-header"},o.default.createElement("button",{type:"button",className:"navbar-toggle collapsed","data-toggle":"collapse","data-target":"#navbar","aria-expanded":"false","aria-controls":"navbar"},o.default.createElement("span",{className:"sr-only"},"Toggle navigation"),o.default.createElement("span",{className:"icon-bar"}),o.default.createElement("span",{className:"icon-bar"}),o.default.createElement("span",{className:"icon-bar"})),o.default.createElement("a",{className:"navbar-brand",href:"#/"},"Project name")),o.default.createElement("div",{id:"navbar",className:"collapse navbar-collapse"},o.default.createElement("ul",{className:"nav navbar-nav"},o.default.createElement("li",{className:"active"},o.default.createElement("a",{href:"#"},"Home")),o.default.createElement("li",null,o.default.createElement("a",{href:"#about"},"About")),o.default.createElement("li",null,o.default.createElement("a",{href:"#contact"},"Contact")),i.user&&o.default.createElement("li",null,o.default.createElement("a",{href:"#visitors"},"Visitors")),i.user?o.default.createElement("li",null,o.default.createElement("a",{href:"#signout"},"Sign Out")):o.default.createElement("li",null,o.default.createElement("a",{href:"#authorize"},"Authorize")))))),o.default.createElement("div",{className:"container",id:"main"}))},e.update={"#auth":function(t){return t}},e}return r(e,t),e}(o.Component))).mount("my-app")},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={content:"home"},e.view=function(t){return o.default.createElement("div",null,o.default.createElement("h1",null,t.content))},e.update={"#":function(t){return t}},e}return r(e,t),e}(o.Component);e.default=a},function(t,e){t.exports=firebase},function(t,e){t.exports=firebaseui},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),i=n(1),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.auth=function(){return!!i.user},e.state={content:"about"},e.view=function(t){return a.default.createElement("div",null,a.default.createElement("h1",null,t.content," - ",t.authorized?i.user.displayName:"[anonymous]"," "))},e.update={"#about":function(t){return o({},t,{authorized:e.auth()})}},e}return r(e,t),e}(a.Component);e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state="contact",e.view=function(t){return o.default.createElement("div",null,o.default.createElement("h1",null,t," - ",a.user?a.user.displayName:"[anonymous]"," "))},e.update={"#contact":function(t){return t}},e}return r(e,t),e}(o.Component);e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state="Sign in as admin",e.view=function(t){return o.default.createElement("div",null,o.default.createElement("h1",null,t.content),o.default.createElement("div",{id:"authorize-container"}))},e.update={"#authorize":function(t){return!a.user&&setTimeout(function(){return o.default.run("#signin","authorize-container")}),t}},e}return r(e,t),e}(o.Component);e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function i(t){try{s(r.next(t))}catch(t){a(t)}}function u(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(i,u)}s((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,u,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=n(1),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={pageName:"visitors",visitors:[]},e.view=function(t){return t&&t.then?null:u.default.createElement("div",{className:"row"},u.default.createElement("h1",null,t.pageName),t.visitors.map(function(t){return u.default.createElement("div",{style:{width:400,border:"1px black solid"}},u.default.createElement("p",null,t.name),u.default.createElement("button",{onclick:function(e){return u.default.run("#deleteVisitor",t.timestamp)}},"Delete"))}))},e.update={"#visitors":function(t){return a(e,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return[4,s.db.collection("visitors").get()];case 1:return e=r.sent(),n=[],e.forEach(function(t){return n.push(t.data())}),[2,o({},t,{visitors:n})]}})})},"#deleteVisitor":function(t,e){return console.log("%%---\x3e state, visitorId",t,e),t}},e}return r(e,t),e}(u.Component);e.default=c}]);
//# sourceMappingURL=app.js.map